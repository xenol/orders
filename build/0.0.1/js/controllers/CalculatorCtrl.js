"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();define("controllers/module",["angular"],function(t){return t.module("app.controllers",[])}),define("controllers/CalculatorCtrl",["./module"],function(t){t.controller("CalculatorCtrl",["$scope","$rootScope","$routeParams","$localStorage","$location",function(t,e,n,o,r){t.$storage=o,t.parentSlug=n.slug,t.id=n.id;var u=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"inc",value:function(){var e=parseInt(t.num)||1;t.num=e<100?e+1:e}},{key:"dec",value:function(){var e=parseInt(t.num)||1;t.num=e>1?e-1:e}},{key:"save",value:function(){"object"!==_typeof(t.$storage.products)&&(t.$storage.products={}),t.$storage.products[t.$parent.info.id]=t.$parent.info,t.$storage.products[t.$parent.info.id].num=t.num,t.$storage.products[t.$parent.info.id].parentSlug=t.parentSlug,t.$storage.products[t.$parent.info.id].time=t.time}},{key:"add",value:function(){e.save(),r.url("/cart")}},{key:"del",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e=parseInt(e)||0,t.$parent.info.products[e]&&delete t.$parent.info.products[e]}},{key:"checkout",value:function(){r.url("/checkout")}},{key:"thanks",value:function(){r.url("/thanks")}},{key:"changeTime",value:function(){}},{key:"price",get:function(){return t&&t.$parent&&t.$parent.info&&t.$parent.info.data?t.$parent.info.data.tarif:0}},{key:"num",get:function(){return t.$storage&&t.$storage.products&&t.$storage.products[t.id]?t.$storage.products[t.id].num:1}},{key:"total",get:function(){var e=0;return"object"===_typeof(t.$parent.info.products)&&(e=Object.values(t.$parent.info.products).reduce(function(t,e){return t+e.num*e.data.tarif},0)),e}},{key:"length",get:function(){return"object"===_typeof(t.$storage.products)?Object.keys(t.$storage.products).length:0}},{key:"title",get:function(){return 1}}]),e}();t.inc=function(){u.inc()},t.dec=function(){u.dec()},t.add=function(){u.add()},t.total=function(){return u.total},t.checkout=function(){u.checkout()},t.thanks=function(){u.thanks()},t.changeTime=function(){u.changeTime()},t.title=function(){return u.title},t.time="09-00",t.tetherSelectClass="form-group form-group-lg block-calculator__form-group",t.num=u.num,t.price=u.price}])});